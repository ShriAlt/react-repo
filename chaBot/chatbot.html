<!DOCTYPE html>
<html>
  <head>
    <title>ChatBot</title>
  </head>
  <script src="react-bsics.js"></script>

  <body>
    <div class="js-container"></div>

    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>
    
    <script type="text/babel">

function ChatMessages(){

      const chatMessage =[{
        message:"Hi ChatBot" ,
        sender : "User" ,
        id:"id1"
      },
      {
        message:"Hello ? " ,
        sender : "Robot",
        id:"id2"
       },
        {
          message:"How are you ? " ,
          sender : "User",
          id:"id3"
        },
        {
          message:"I am fine, thank you ! " ,
          sender : "Robot",
          id:"id4"
        }

      ];
     const array = React.useState(chatMessage);// to make the component re-render when the state changes
      const chatMessages= array[0];
      const setChatMessages = array[1]; // to update the state and re-render the component when the state changes also a update function

      return(
        <> 
          {chatMessage.map((chatMessage)=>{
        return(
          <ChatMessage
            message={chatMessage.message} 
            sender={chatMessage.sender}
            key = {chatMessage.id} />
        );
      })}
        </>
      );
    }
      function sendMessage(){[
       ...ChatMessages,
       {
        message:"I am fine, thank you ! " ,
        sender : "Robot",
        id:crypto.randomUUID()
       }
      ]
      };

    
    function ChatInput(){
      return(
        <>
         <input 
            placeholder="Send a message" 
           size="30" 
          />
          <button onClick ={sendMessage}>Send</button>
        </>
      );
    };

    function ChatMessage({message,sender}){ // object destructuring in function parameter
      return(
        <div>
          {sender === 'Robot' &&( 
            <img src="robot.png" width="50" />
          ) }
          {message}
          { sender === 'User' &&
          <img src="user.png" width="50" />}
        </div>
      );
    };

    //  const message = props.message;
    //  const sender = props.sender;

    //  const {message, sender} = props; // object destructuring

     /*if(sender === "robot"){
      return(
        <div>
          <img src="robot.png" width="50" />
          {message}
        </div>
      );
     } */

 

    



  
    function App(){
      return(
        <>
      <ChatInput/>
      <ChatMessages/>
      </>
    )
    };

      const container = document.querySelector('.js-container');
      ReactDOM.createRoot(container).render(<App/> );
    </script>
  </body>
</html>
<!-- components = piece of a website -->
<!-- props = properties that we can pass to a component to make it dynamic which makes it resuseable -->
<!-- event Handlers -> runs the  function when a event occures or when you interact    -->


